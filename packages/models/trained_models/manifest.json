{
  "config_path": "E:\\CognitiveMemoryLayer\\packages\\models\\model_pipeline.toml",
  "trained_at_utc": "2026-02-28T16:44:20.888751+00:00",
  "paths": {
    "prepared_dir": "E:\\CognitiveMemoryLayer\\packages\\models\\prepared_data\\modelpack",
    "trained_models_dir": "E:\\CognitiveMemoryLayer\\packages\\models\\trained_models"
  },
  "train_settings": {
    "seed": 42,
    "families": [
      "router",
      "extractor",
      "pair"
    ],
    "max_features": 250000,
    "min_df": 2,
    "ngram_min": 1,
    "ngram_max": 2,
    "use_char_ngrams": true,
    "char_ngram_min": 3,
    "char_ngram_max": 5,
    "char_min_df": 2,
    "char_max_features": 250000,
    "max_iter": 25,
    "alpha": 1e-05,
    "sgd_average": true,
    "use_early_stopping": true,
    "early_stopping_metric": "eval_task_macro_f1",
    "early_stopping_patience": 4,
    "early_stopping_min_delta": 0.0001,
    "task_weight_power": 0.5,
    "label_weight_power": 0.0,
    "sample_weight_min": 0.2,
    "sample_weight_max": 5.0,
    "predict_batch_size": 8192,
    "family_overrides": {
      "router": {
        "max_iter": 35,
        "min_df": 1,
        "ngram_max": 3,
        "alpha": 1e-05,
        "task_weight_power": 0.6,
        "label_weight_power": 0.08,
        "early_stopping_metric": "eval_focus_macro_f1",
        "early_stopping_patience": 7,
        "task_focus_weights": {
          "memory_type": 2.0
        },
        "focus_task_weights": {
          "memory_type": 1.0
        }
      },
      "extractor": {
        "max_iter": 30,
        "min_df": 1,
        "ngram_max": 2,
        "alpha": 1e-05,
        "task_weight_power": 0.5,
        "label_weight_power": 0.05,
        "sample_weight_max": 2.5,
        "early_stopping_metric": "eval_task_macro_f1",
        "early_stopping_patience": 5,
        "task_focus_weights": {
          "fact_type": 1.3
        },
        "focus_task_weights": {
          "fact_type": 1.0
        }
      },
      "pair": {
        "max_iter": 30,
        "use_char_ngrams": false,
        "ngram_max": 2,
        "alpha": 0.0001,
        "task_weight_power": 0.45,
        "label_weight_power": 0.05,
        "early_stopping_metric": "eval_task_macro_f1",
        "early_stopping_patience": 5
      }
    },
    "task_focus_weights": {},
    "focus_task_weights": {}
  },
  "families": {
    "pair": {
      "family": "pair",
      "model_path": "E:\\CognitiveMemoryLayer\\packages\\models\\trained_models\\pair_model.joblib",
      "rows": {
        "train": 32000,
        "test": 4000,
        "eval": 4000
      },
      "test": {
        "rows": 4000,
        "accuracy": 0.649,
        "macro_f1": 0.6478679757128953,
        "weighted_f1": 0.6478679757128952,
        "micro_f1": 0.649,
        "labels": [
          "conflict_detection::conflict",
          "conflict_detection::no_conflict",
          "constraint_rerank::not_relevant",
          "constraint_rerank::relevant",
          "scope_match::match",
          "scope_match::no_match",
          "supersession::no_supersedes",
          "supersession::supersedes"
        ],
        "confusion_matrix": [
          [
            310,
            190,
            0,
            0,
            0,
            0,
            0,
            0
          ],
          [
            130,
            370,
            0,
            0,
            0,
            0,
            0,
            0
          ],
          [
            0,
            0,
            265,
            235,
            0,
            0,
            0,
            0
          ],
          [
            0,
            0,
            230,
            270,
            0,
            0,
            0,
            0
          ],
          [
            0,
            0,
            0,
            0,
            389,
            111,
            0,
            0
          ],
          [
            0,
            0,
            0,
            0,
            185,
            315,
            0,
            0
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            375,
            125
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            198,
            302
          ]
        ]
      },
      "eval": {
        "rows": 4000,
        "accuracy": 0.65225,
        "macro_f1": 0.6511392568038393,
        "weighted_f1": 0.6511392568038393,
        "micro_f1": 0.65225,
        "labels": [
          "conflict_detection::conflict",
          "conflict_detection::no_conflict",
          "constraint_rerank::not_relevant",
          "constraint_rerank::relevant",
          "scope_match::match",
          "scope_match::no_match",
          "supersession::no_supersedes",
          "supersession::supersedes"
        ],
        "confusion_matrix": [
          [
            325,
            174,
            0,
            0,
            0,
            1,
            0,
            0
          ],
          [
            129,
            371,
            0,
            0,
            0,
            0,
            0,
            0
          ],
          [
            0,
            0,
            265,
            235,
            0,
            0,
            0,
            0
          ],
          [
            0,
            0,
            247,
            253,
            0,
            0,
            0,
            0
          ],
          [
            0,
            0,
            0,
            0,
            396,
            104,
            0,
            0
          ],
          [
            0,
            0,
            0,
            0,
            196,
            304,
            0,
            0
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            378,
            122
          ],
          [
            0,
            0,
            0,
            0,
            0,
            0,
            183,
            317
          ]
        ]
      },
      "effective_train_config": {
        "seed": 42,
        "families": [
          "router",
          "extractor",
          "pair"
        ],
        "max_features": 250000,
        "min_df": 2,
        "ngram_min": 1,
        "ngram_max": 2,
        "use_char_ngrams": false,
        "char_ngram_min": 3,
        "char_ngram_max": 5,
        "char_min_df": 2,
        "char_max_features": 250000,
        "max_iter": 30,
        "alpha": 0.0001,
        "sgd_average": true,
        "use_early_stopping": true,
        "early_stopping_metric": "eval_task_macro_f1",
        "early_stopping_patience": 5,
        "early_stopping_min_delta": 0.0001,
        "task_weight_power": 0.45,
        "label_weight_power": 0.05,
        "sample_weight_min": 0.2,
        "sample_weight_max": 5.0,
        "predict_batch_size": 8192,
        "task_focus_weights": {},
        "focus_task_weights": {}
      }
    }
  }
}